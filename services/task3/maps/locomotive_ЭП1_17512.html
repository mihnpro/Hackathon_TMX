<!DOCTYPE html>
<html>
<head>
    <title>Локомотив ЭП1-17512</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { height: 100vh; width: 100vw; }
        .info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="info">
        <h3>Локомотив ЭП1-17512</h3>
        <p>Модель: ЭП1<br>
           Номер: 17512<br>
           Депо: 940006<br>
           Поездок: 3<br>
           Станций: 21</p>
    </div>
    <div id="map"></div>
    <script>
        var map = L.map('map').setView([55.750000, 37.620000], 11);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // Станции
        var stations = [{"id":"947503","lat":55.83,"lon":37.52,"name":"Станция 947503 (Северная-1)"},{"id":"947912","lat":55.88,"lon":37.495,"name":"Станция 947912 (Северная-6)"},{"id":"948050","lat":55.89,"lon":37.49,"name":"Станция 948050 (Северная-7)"},{"id":"948101","lat":55.9,"lon":37.485,"name":"Станция 948101 (Северная-8)"},{"id":"940010","lat":55.7512,"lon":37.615,"name":"Станция 940010 (Западная-1)"},{"id":"942800","lat":55.775,"lon":37.482,"name":"Станция 942800 (Западная-20)"},{"id":"942904","lat":55.7763,"lon":37.475,"name":"Станция 942904 (Западная-21)"},{"id":"943023","lat":55.7775,"lon":37.468,"name":"Станция 943023 (Западная-22)"},{"id":"943108","lat":55.7788,"lon":37.461,"name":"Станция 943108 (Западная-23)"},{"id":"947656","lat":55.84,"lon":37.515,"name":"Станция 947656 (Северная-2)"},{"id":"940006","lat":55.75,"lon":37.62,"name":"Депо Западное"},{"id":"942302","lat":55.77,"lon":37.51,"name":"Станция 942302 (Западная-16)"},{"id":"942707","lat":55.7738,"lon":37.489,"name":"Станция 942707 (Западная-19)"},{"id":"947630","lat":55.85,"lon":37.51,"name":"Станция 947630 (Северная-3)"},{"id":"947700","lat":55.86,"lon":37.505,"name":"Станция 947700 (Северная-4)"},{"id":"947804","lat":55.87,"lon":37.5,"name":"Станция 947804 (Северная-5)"},{"id":"948474","lat":55.91,"lon":37.48,"name":"Станция 948474 (Северная-9)"},{"id":"949104","lat":55.93,"lon":37.47,"name":"Станция 949104 (Северная-11)"},{"id":"942506","lat":55.7712,"lon":37.503,"name":"Станция 942506 (Западная-17)"},{"id":"942603","lat":55.7725,"lon":37.496,"name":"Станция 942603 (Западная-18)"},{"id":"948830","lat":55.92,"lon":37.475,"name":"Станция 948830 (Северная-10)"}];
        stations.forEach(function(s) {
            L.circleMarker([s.lat, s.lon], {
                radius: 6,
                color: '#3388ff',
                fillColor: '#3388ff',
                fillOpacity: 0.8
            }).bindPopup(s.id + '<br>' + s.name).addTo(map);
        });

        // Маршруты (разные цвета для разных поездок)
        var colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#C7B198'];
        var routes = [[[37.615,55.7512],[37.51,55.77],[37.503,55.7712],[37.496,55.7725],[37.489,55.7738],[37.482,55.775],[37.475,55.7763],[37.468,55.7775],[37.461,55.7788],[37.52,55.83],[37.515,55.84],[37.51,55.85],[37.505,55.86],[37.5,55.87],[37.495,55.88],[37.49,55.89],[37.485,55.9],[37.48,55.91],[37.475,55.92],[37.47,55.93]]];
        routes.forEach(function(r, i) {
            L.polyline(r, {
                color: colors[i % colors.length],
                weight: 3,
                opacity: 0.6
            }).addTo(map);
        });
    </script>
</body>
</html>