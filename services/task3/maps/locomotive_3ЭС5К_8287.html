<!DOCTYPE html>
<html>
<head>
    <title>Локомотив 3ЭС5К-8287</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { height: 100vh; width: 100vw; }
        .info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="info">
        <h3>Локомотив 3ЭС5К-8287</h3>
        <p>Модель: 3ЭС5К<br>
           Номер: 8287<br>
           Депо: 940006<br>
           Поездок: 13<br>
           Станций: 23</p>
    </div>
    <div id="map"></div>
    <script>
        var map = L.map('map').setView([55.750000, 37.620000], 11);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // Станции
        var stations = [{"id":"941403","lat":55.7588,"lon":37.573,"name":"Станция 941403 (Западная-7)"},{"id":"942302","lat":55.77,"lon":37.51,"name":"Станция 942302 (Западная-16)"},{"id":"940006","lat":55.75,"lon":37.62,"name":"Депо Западное"},{"id":"942001","lat":55.7525,"lon":37.608,"name":"Станция 942001 (Западная-2)"},{"id":"941418","lat":55.7575,"lon":37.58,"name":"Станция 941418 (Западная-6)"},{"id":"943023","lat":55.7775,"lon":37.468,"name":"Станция 943023 (Западная-22)"},{"id":"942707","lat":55.7738,"lon":37.489,"name":"Станция 942707 (Западная-19)"},{"id":"941206","lat":55.7638,"lon":37.545,"name":"Станция 941206 (Западная-11)"},{"id":"941225","lat":55.7625,"lon":37.552,"name":"Станция 941225 (Западная-10)"},{"id":"941300","lat":55.7612,"lon":37.559,"name":"Станция 941300 (Западная-9)"},{"id":"941437","lat":55.7563,"lon":37.587,"name":"Станция 941437 (Западная-5)"},{"id":"942904","lat":55.7763,"lon":37.475,"name":"Станция 942904 (Западная-21)"},{"id":"942800","lat":55.775,"lon":37.482,"name":"Станция 942800 (Западная-20)"},{"id":"942603","lat":55.7725,"lon":37.496,"name":"Станция 942603 (Западная-18)"},{"id":"941009","lat":55.7663,"lon":37.531,"name":"Станция 941009 (Западная-13)"},{"id":"941901","lat":55.7538,"lon":37.601,"name":"Станция 941901 (Западная-3)"},{"id":"941507","lat":55.76,"lon":37.566,"name":"Станция 941507 (Западная-8)"},{"id":"943108","lat":55.7788,"lon":37.461,"name":"Станция 943108 (Западная-23)"},{"id":"942506","lat":55.7712,"lon":37.503,"name":"Станция 942506 (Западная-17)"},{"id":"940909","lat":55.7675,"lon":37.524,"name":"Станция 940909 (Западная-14)"},{"id":"941102","lat":55.765,"lon":37.538,"name":"Станция 941102 (Западная-12)"},{"id":"942105","lat":55.7688,"lon":37.517,"name":"Станция 942105 (Западная-15)"},{"id":"941600","lat":55.755,"lon":37.594,"name":"Станция 941600 (Западная-4)"}];
        stations.forEach(function(s) {
            L.circleMarker([s.lat, s.lon], {
                radius: 6,
                color: '#3388ff',
                fillColor: '#3388ff',
                fillOpacity: 0.8
            }).bindPopup(s.id + '<br>' + s.name).addTo(map);
        });

        // Маршруты (разные цвета для разных поездок)
        var colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#C7B198'];
        var routes = [[[37.461,55.7788],[37.468,55.7775],[37.475,55.7763],[37.482,55.775],[37.489,55.7738],[37.496,55.7725],[37.503,55.7712],[37.51,55.77],[37.62,55.75]],[[37.524,55.7675],[37.531,55.7663],[37.538,55.765],[37.545,55.7638],[37.552,55.7625],[37.559,55.7612],[37.62,55.75]],[[37.51,55.77],[37.503,55.7712],[37.496,55.7725],[37.489,55.7738],[37.482,55.775],[37.475,55.7763],[37.468,55.7775],[37.461,55.7788],[37.468,55.7775],[37.475,55.7763],[37.482,55.775],[37.489,55.7738],[37.496,55.7725],[37.51,55.77],[37.62,55.75]],[[37.517,55.7688],[37.608,55.7525],[37.601,55.7538],[37.594,55.755],[37.587,55.7563],[37.58,55.7575],[37.573,55.7588],[37.566,55.76],[37.559,55.7612],[37.552,55.7625],[37.545,55.7638],[37.538,55.765],[37.531,55.7663],[37.524,55.7675],[37.531,55.7663],[37.538,55.765],[37.545,55.7638],[37.552,55.7625],[37.559,55.7612],[37.566,55.76],[37.573,55.7588],[37.58,55.7575],[37.587,55.7563],[37.594,55.755],[37.601,55.7538],[37.608,55.7525],[37.517,55.7688],[37.62,55.75]],[[37.51,55.77],[37.503,55.7712],[37.496,55.7725],[37.489,55.7738],[37.482,55.775],[37.475,55.7763],[37.468,55.7775],[37.461,55.7788],[37.468,55.7775],[37.475,55.7763],[37.482,55.775],[37.489,55.7738],[37.496,55.7725],[37.503,55.7712],[37.51,55.77],[37.62,55.75]],[[37.559,55.7612],[37.566,55.76],[37.573,55.7588],[37.58,55.7575],[37.587,55.7563],[37.594,55.755],[37.601,55.7538],[37.608,55.7525],[37.517,55.7688],[37.62,55.75]],[[37.51,55.77],[37.503,55.7712],[37.496,55.7725],[37.489,55.7738],[37.482,55.775],[37.475,55.7763],[37.468,55.7775],[37.461,55.7788]]];
        routes.forEach(function(r, i) {
            L.polyline(r, {
                color: colors[i % colors.length],
                weight: 3,
                opacity: 0.6
            }).addTo(map);
        });
    </script>
</body>
</html>